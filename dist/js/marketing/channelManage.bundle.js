webpackJsonp([6],{100:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(13),l=n(r),u=a(3),i=n(u),o=a(12),s=n(o),d=function(e){var t,a=e.prefixCls,n=void 0===a?"ant-input-group":a,r=e.className,u=void 0===r?"":r,o=(0,s.default)(n,(t={},(0,l.default)(t,n+"-lg","large"===e.size),(0,l.default)(t,n+"-sm","small"===e.size),(0,l.default)(t,n+"-compact",e.compact),t),u);return i.default.createElement("span",{className:o,style:e.style},e.children)};t.default=d,e.exports=t.default},101:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(8),l=n(r),u=a(7),i=n(u),o=a(11),s=n(o),d=a(9),f=n(d),c=a(10),p=n(c),h=a(3),m=n(h),g=a(12),v=n(g),x=a(55),y=n(x),b=a(35),w=n(b),E=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&(a[n[r]]=e[n[r]]);return a},k=function(e){function t(){(0,i.default)(this,t);var e=(0,f.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onSearch=function(){var t=e.props.onSearch;t&&t(e.input.refs.input.value),e.input.focus()},e}return(0,p.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.className,n=t.prefixCls,r=E(t,["className","prefixCls"]);delete r.onSearch;var u=m.default.createElement(w.default,{className:n+"-icon",onClick:this.onSearch,type:"search"});return m.default.createElement(y.default,(0,l.default)({onPressEnter:this.onSearch},r,{className:(0,v.default)(n,a),suffix:u,ref:function(t){return e.input=t}}))}}]),t}(m.default.Component);t.default=k,k.defaultProps={prefixCls:"ant-input-search"},e.exports=t.default},1133:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){function n(r,l){try{var u=t[r](l),i=u.value}catch(e){return void a(e)}if(!u.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}return n("next")})}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=(a(79),a(98)),d=n(s),f=(a(108),a(109)),c=n(f),p=(a(105),a(82)),h=n(p),m=(a(102),a(80)),g=n(m),v=(a(119),a(35)),x=n(v),y=(a(117),a(118)),b=n(y),w=a(120),E=n(w),k=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),C=a(3),N=n(C),P=a(21),O=n(P),_=a(106),S=(n(_),a(145)),I=a(146),A=n(I);a(1134);var z=0,D=function(e){function t(e){u(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=a;return n.state={modalNew:!1,modalEdit:!1,newKey:(new Date).getTime(),editKey:z,selectData:[],pageData:[],pageNum:0,channelName:"",loading:!1,inputValue:"",rowIndex:0,pageIndex:1,otherPageName:""},n.onPaginationChange=a.onPaginationChange.bind(n),n.handleChange=n.handleChange.bind(n),n.showModal=n.showModal.bind(n),n.handleOk=n.handleOk.bind(n),n.handleCancel=n.handleCancel.bind(n),n.pageSend=n.pageSend.bind(n),n.search=n.search.bind(n),n.getInput=n.getInput.bind(n),n.getChannelName=n.getChannelName.bind(n),a}return o(t,e),k(t,[{key:"onPaginationChange",value:function(){function e(e){return t.apply(this,arguments)}var t=l(E.default.mark(function e(t){return E.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({pageIndex:t});case 2:this.pageSend(t);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"handleChange",value:function(e){this.setState({channelName:e})}},{key:"showModal",value:function(e,t,a,n){var l=this;return function(){var e;l.setState((e={},r(e,n,!0),r(e,"newKey",(new Date).getTime()),r(e,"editKey",z++),r(e,"rowIndex",Number(a)),e))}}},{key:"handleOk",value:function(e){var t=this;return l(E.default.mark(function a(){var n,l,u,i,o;return E.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n=/^[\u4e00-\u9fa5（）()_a-zA-Z0-9]+$/,n.test(t.state.inputValue)){a.next=6;break}return a.next=4,b.default.info({title:"提示",content:N.default.createElement("div",null,N.default.createElement("p",null,'仅允许中文+26个英文字母+10个数字+下划线+"（）"命名！')),onOk:function(){}});case 4:a.next=32;break;case 6:if("modalNew"!=e){a.next=20;break}return a.next=9,(0,S.postFetch)(A.default.addchannel,{channelName:t.state.inputValue});case 9:if(l=a.sent,!l.success){a.next=16;break}t.getChannelName(),t.pageSend(1),t.setState((u={},r(u,e,!1),r(u,"inputValue",""),r(u,"pageIndex",1),u)),a.next=18;break;case 16:return a.next=18,b.default.info({title:"提示",content:N.default.createElement("div",null,l.message),onOk:function(){}});case 18:a.next=32;break;case 20:if("modalEdit"!=e){a.next=32;break}return a.next=23,(0,S.postFetch)(A.default.updatechannel,{id:t.state.pageData[t.state.rowIndex].id,newChannelName:t.state.inputValue});case 23:if(i=a.sent,!i.success){a.next=30;break}t.getChannelName(),t.pageSend(1),t.setState((o={},r(o,e,!1),r(o,"inputValue",""),r(o,"pageIndex",1),o)),a.next=32;break;case 30:return a.next=32,b.default.info({title:"提示",content:N.default.createElement("div",null,i.message),onOk:function(){}});case 32:case"end":return a.stop()}},a,this)}))}},{key:"handleCancel",value:function(e){var t=this;return function(){t.setState(r({},e,!1))}}},{key:"search",value:function(){function e(){return t.apply(this,arguments)}var t=l(E.default.mark(function e(){var t;return E.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.setState({pageIndex:1,otherPageName:t.state.channelName});case 3:t.pageSend(1);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"getInput",value:function(){function e(e){return t.apply(this,arguments)}var t=l(E.default.mark(function e(t){var a;return E.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.value,e.next=3,this.setState({inputValue:a});case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"pageSend",value:function(){function e(e){return t.apply(this,arguments)}var t=l(E.default.mark(function e(t){var a,n;return E.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this,this.setState({loading:!0}),e.next=4,(0,S.getFetch)(A.default.channel,{channelName:a.state.otherPageName,pageSize:10,pageIndex:t});case 4:if(n=e.sent,!n.success){e.next=9;break}a.setState({loading:!1,pageData:n.data,pageNum:Number(n.totalCount)}),e.next=11;break;case 9:return e.next=11,b.default.info({title:"提示",content:N.default.createElement("div",null,n.message),onOk:function(){}});case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"getChannelName",value:function(){function e(){return t.apply(this,arguments)}var t=l(E.default.mark(function e(){var t,a;return E.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,e.next=3,(0,S.getFetch)(A.default.getChannelName,{});case 3:if(a=e.sent,!a.success){e.next=8;break}t.setState({selectData:a.data}),e.next=10;break;case 8:return e.next=10,b.default.info({title:"提示",content:N.default.createElement("div",null,a.message),onOk:function(){}});case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){function e(){return t.apply(this,arguments)}var t=l(E.default.mark(function e(){return E.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.pageSend(1);case 2:return e.next=4,this.getChannelName();case 4:return e.next=6,this.setState({otherPageName:this.state.channelName});case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"render",value:function(){var e=this,t=this,a={columns:[{title:"渠道id",dataIndex:"id"},{title:"渠道名",dataIndex:"channelName"},{title:"创建时间",dataIndex:"createTime"},{title:"创建人",dataIndex:"founder"},{title:"修改时间",dataIndex:"updateTime"},{title:"修改人",dataIndex:"modifier"},{title:"操作",dataIndex:"operate",render:function(t,a,n){return N.default.createElement(x.default,{type:"edit",onClick:e.showModal(t,a,n,"modalEdit")})}}],loading:t.state.loading,data:t.state.pageData},n=g.default.Option;return 0==this.state.selectData.length?N.default.createElement("div",null,N.default.createElement("p",null)):N.default.createElement(_.XXDFw,{sideParam:"4"},N.default.createElement("div",{className:"cell"},N.default.createElement("label",null,"渠道："),N.default.createElement(g.default,{showSearch:!0,style:{width:200},value:t.state.channelName,optionFilterProp:"children",onChange:this.handleChange,defaultValue:"",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},N.default.createElement(n,{value:""},"全部"),t.state.selectData.map(function(e){return N.default.createElement(n,{value:e.channelName,key:e.channelName},e.channelName)})),N.default.createElement(h.default,{type:"primary",onClick:this.showModal("","","","modalNew")},"新增"),N.default.createElement(h.default,{type:"primary",onClick:t.search},"查询")),N.default.createElement("div",{className:"search-group clearfix"},N.default.createElement("div",{className:"table-wrap"},N.default.createElement("h2",{className:"title"},"渠道管理"),N.default.createElement(_.XXDTable,a),N.default.createElement("div",{className:"pagination"},N.default.createElement(c.default,{showQuickJumper:!0,defaultCurrent:1,current:t.state.pageIndex,defaultPageSize:10,total:t.state.pageNum,onChange:t.onPaginationChange})))),N.default.createElement(b.default,{title:"渠道新增",visible:this.state.modalNew,onOk:this.handleOk("modalNew"),onCancel:this.handleCancel("modalNew"),key:this.state.newKey},N.default.createElement("div",{className:"input-wrap"},N.default.createElement("span",{className:"starIcon"},"渠道名："),N.default.createElement(d.default,{placeholder:"",onChange:this.getInput.bind(this)}))),N.default.createElement(b.default,{title:"渠道修改",visible:this.state.modalEdit,onOk:this.handleOk("modalEdit"),onCancel:this.handleCancel("modalEdit"),key:this.state.editKey},N.default.createElement("ul",{className:"pop-wrap"},N.default.createElement("li",null,N.default.createElement("span",null,"创建人"),N.default.createElement(d.default,{placeholder:"",value:this.state.pageData[this.state.rowIndex].founder,disabled:!0})),N.default.createElement("li",null,N.default.createElement("span",null,"创建时间"),N.default.createElement(d.default,{placeholder:"",value:this.state.pageData[this.state.rowIndex].createTime,disabled:!0})),N.default.createElement("li",null,N.default.createElement("span",null,"渠道原名"),N.default.createElement(d.default,{placeholder:"",value:this.state.pageData[this.state.rowIndex].channelName,disabled:!0})),N.default.createElement("li",null,N.default.createElement("span",{className:"starIcon"},"渠道新名"),N.default.createElement(d.default,{placeholder:"",onChange:this.getInput.bind(this)})))))}}]),t}(N.default.Component);O.default.render(N.default.createElement(D,null),document.getElementById("J_wrapBody"))},1134:function(e,t){},55:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return void 0===e||null===e?"":e}Object.defineProperty(t,"__esModule",{value:!0});var l=a(8),u=n(l),i=a(13),o=n(i),s=a(7),d=n(s),f=a(11),c=n(f),p=a(9),h=n(p),m=a(10),g=n(m),v=a(3),x=n(v),y=a(6),b=n(y),w=a(12),E=n(w),k=a(49),C=n(k),N=a(56),P=n(N),O=function(e){function t(){(0,d.default)(this,t);var e=(0,h.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleKeyDown=function(t){var a=e.props,n=a.onPressEnter,r=a.onKeyDown;13===t.keyCode&&n&&n(t),r&&r(t)},e}return(0,g.default)(t,e),(0,c.default)(t,[{key:"focus",value:function(){this.refs.input.focus()}},{key:"blur",value:function(){this.refs.input.blur()}},{key:"getInputClassName",value:function(){var e,t=this.props,a=t.prefixCls,n=t.size,r=t.disabled;return(0,E.default)(a,(e={},(0,o.default)(e,a+"-sm","small"===n),(0,o.default)(e,a+"-lg","large"===n),(0,o.default)(e,a+"-disabled",r),e))}},{key:"renderLabeledInput",value:function(e){var t=this.props;if(!t.addonBefore&&!t.addonAfter)return e;var a=t.prefixCls+"-group",n=a+"-addon",r=t.addonBefore?x.default.createElement("span",{className:n},t.addonBefore):null,l=t.addonAfter?x.default.createElement("span",{className:n},t.addonAfter):null,u=(0,E.default)(t.prefixCls+"-wrapper",(0,o.default)({},a,r||l));return r||l?x.default.createElement("span",{className:t.prefixCls+"-group-wrapper",style:t.style},x.default.createElement("span",{className:u},r,(0,v.cloneElement)(e,{style:null}),l)):x.default.createElement("span",{className:u},r,e,l)}},{key:"renderLabeledIcon",value:function(e){var t=this.props;if(!("prefix"in t||"suffix"in t))return e;var a=t.prefix?x.default.createElement("span",{className:t.prefixCls+"-prefix"},t.prefix):null,n=t.suffix?x.default.createElement("span",{className:t.prefixCls+"-suffix"},t.suffix):null;return x.default.createElement("span",{className:(0,E.default)(t.className,t.prefixCls+"-affix-wrapper"),style:t.style},a,(0,v.cloneElement)(e,{style:null,className:this.getInputClassName()}),n)}},{key:"renderInput",value:function(){var e=this.props,t=e.value,a=e.className,n=(0,C.default)(this.props,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix"]);return"value"in this.props&&(n.value=r(t),delete n.defaultValue),this.renderLabeledIcon(x.default.createElement("input",(0,u.default)({},n,{className:(0,E.default)(this.getInputClassName(),a),onKeyDown:this.handleKeyDown,ref:"input"})))}},{key:"render",value:function(){return"textarea"===this.props.type?x.default.createElement(P.default,(0,u.default)({},this.props,{ref:"input"})):this.renderLabeledInput(this.renderInput())}}]),t}(v.Component);t.default=O,O.defaultProps={prefixCls:"ant-input",type:"text",disabled:!1},O.propTypes={type:b.default.string,id:b.default.oneOfType([b.default.string,b.default.number]),size:b.default.oneOf(["small","default","large"]),disabled:b.default.bool,value:b.default.any,defaultValue:b.default.any,className:b.default.string,addonBefore:b.default.node,addonAfter:b.default.node,prefixCls:b.default.string,autosize:b.default.oneOfType([b.default.bool,b.default.object]),onPressEnter:b.default.func,onKeyDown:b.default.func,onFocus:b.default.func,onBlur:b.default.func,prefix:b.default.node,suffix:b.default.node},e.exports=t.default},56:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return window.requestAnimationFrame?window.requestAnimationFrame(e):window.setTimeout(e,1)}function l(e){window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.clearTimeout(e)}Object.defineProperty(t,"__esModule",{value:!0});var u=a(8),i=n(u),o=a(13),s=n(o),d=a(7),f=n(d),c=a(11),p=n(c),h=a(9),m=n(h),g=a(10),v=n(g),x=a(3),y=n(x),b=a(49),w=n(b),E=a(12),k=n(E),C=a(99),N=n(C),P=function(e){function t(){(0,f.default)(this,t);var e=(0,m.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={textareaStyles:null},e.resizeTextarea=function(){var t=e.props.autosize;if(t&&e.textAreaRef){var a=t?t.minRows:null,n=t?t.maxRows:null,r=(0,N.default)(e.textAreaRef,!1,a,n);e.setState({textareaStyles:r})}},e.handleTextareaChange=function(t){"value"in e.props||e.resizeTextarea();var a=e.props.onChange;a&&a(t)},e.handleKeyDown=function(t){var a=e.props,n=a.onPressEnter,r=a.onKeyDown;13===t.keyCode&&n&&n(t),r&&r(t)},e.saveTextAreaRef=function(t){e.textAreaRef=t},e}return(0,v.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){this.resizeTextarea()}},{key:"componentWillReceiveProps",value:function(e){this.props.value!==e.value&&(this.nextFrameActionId&&l(this.nextFrameActionId),this.nextFrameActionId=r(this.resizeTextarea))}},{key:"focus",value:function(){this.textAreaRef.focus()}},{key:"blur",value:function(){this.textAreaRef.blur()}},{key:"getTextAreaClassName",value:function(){var e=this.props,t=e.prefixCls,a=e.disabled;return(0,k.default)(t,(0,s.default)({},t+"-disabled",a))}},{key:"render",value:function(){var e=this.props,t=(0,w.default)(e,["prefixCls","onPressEnter","autosize"]),a=(0,i.default)({},e.style,this.state.textareaStyles);return"value"in t&&(t.value=t.value||""),y.default.createElement("textarea",(0,i.default)({},t,{className:(0,k.default)(this.getTextAreaClassName(),e.className),style:a,onKeyDown:this.handleKeyDown,onChange:this.handleTextareaChange,ref:this.saveTextAreaRef}))}}]),t}(y.default.Component);t.default=P,P.defaultProps={prefixCls:"ant-input"},e.exports=t.default},98:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(55),l=n(r),u=a(100),i=n(u),o=a(101),s=n(o),d=a(56),f=n(d);l.default.Group=i.default,l.default.Search=s.default,l.default.TextArea=f.default,t.default=l.default,e.exports=t.default},99:function(e,t,a){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&i[a])return i[a];var n=window.getComputedStyle(e),r=n.getPropertyValue("box-sizing")||n.getPropertyValue("-moz-box-sizing")||n.getPropertyValue("-webkit-box-sizing"),l=parseFloat(n.getPropertyValue("padding-bottom"))+parseFloat(n.getPropertyValue("padding-top")),o=parseFloat(n.getPropertyValue("border-bottom-width"))+parseFloat(n.getPropertyValue("border-top-width")),s=u.map(function(e){return e+":"+n.getPropertyValue(e)}).join(";"),d={sizingStyle:s,paddingSize:l,borderSize:o,boxSizing:r};return t&&a&&(i[a]=d),d}function r(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;o||(o=document.createElement("textarea"),document.body.appendChild(o)),e.getAttribute("wrap")?o.setAttribute("wrap",e.getAttribute("wrap")):o.removeAttribute("wrap");var u=n(e,t),i=u.paddingSize,s=u.borderSize,d=u.boxSizing,f=u.sizingStyle;o.setAttribute("style",f+";"+l),o.value=e.value||e.placeholder||"";var c=-1/0,p=1/0,h=o.scrollHeight,m=void 0;if("border-box"===d?h+=s:"content-box"===d&&(h-=i),null!==a||null!==r){o.value="";var g=o.scrollHeight-i;null!==a&&(c=g*a,"border-box"===d&&(c=c+i+s),h=Math.max(c,h)),null!==r&&(p=g*r,"border-box"===d&&(p=p+i+s),m=h>p?"":"hidden",h=Math.min(p,h))}return{height:h,minHeight:c,maxHeight:p,overflowY:m}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var l="\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",u=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"],i={},o=void 0;e.exports=t.default}},[1133]);